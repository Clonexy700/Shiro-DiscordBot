import discord
import asyncio
import json
from collections import OrderedDict
import random
import numpy as np
from functools import partial
from discord.utils import get
from collections import namedtuple
from discord.ext import commands


class Marriage(commands.Cog):

    def __init__(self, client):
        self.client = client

        self.client.loop.create_task(self.save_users())

        with open('marry.json', 'r') as f:
            self.users = json.load(f)

    async def save_users(self):
        await self.client.wait_until_ready()
        while not self.client.is_closed():
            with open('marry.json', 'w') as f:
                if self.users:
                    json.dump(self.users, f, indent=4)

            await asyncio.sleep(3)

    @commands.Cog.listener()
    async def on_member_join(self, member):
        author_id = str(member.id)
        self.users[author_id] = {}
        self.users[author_id]['couple_id'] = 'None'
        self.users[author_id]['price'] = 1
        self.users[author_id]['gift1'] = 'None'
        self.users[author_id]['gift2'] = 'None'
        self.users[author_id]['gift3'] = 'None'
        self.users[author_id]['gift4'] = 'None'
        self.users[author_id]['gift5'] = 'None'
        self.users[author_id]['gift6'] = 'None'
        self.users[author_id]['gift7'] = 'None'
        self.users[author_id]['gift8'] = 'None'
        self.users[author_id]['gift9'] = 'None'
        self.users[author_id]['gift10'] = 'None'
        self.users[author_id]['gift11'] = 'None'
        self.users[author_id]['gift12'] = 'None'
        self.users[author_id]['gift13'] = 'None'
        self.users[author_id]['gift14'] = 'None'
        self.users[author_id]['gift15'] = 'None'
        self.users[author_id]['gift16'] = 'None'
        self.users[author_id]['gift17'] = 'None'
        self.users[author_id]['gift18'] = 'None'
        self.users[author_id]['gift19'] = 'None'
        self.users[author_id]['gift20'] = 'None'
        self.users[author_id]['gift21'] = 'None'
        self.users[author_id]['divorce_num'] = 0

    @commands.Cog.listener()
    async def on_message(self, message):

        author_id = str(message.author.id)

        if not author_id in self.users:
            self.users[author_id] = {}
            self.users[author_id]['couple_id'] = 'None'
            self.users[author_id]['price'] = 1
            self.users[author_id]['gift1'] = 'None'
            self.users[author_id]['gift2'] = 'None'
            self.users[author_id]['gift3'] = 'None'
            self.users[author_id]['gift4'] = 'None'
            self.users[author_id]['gift5'] = 'None'
            self.users[author_id]['gift6'] = 'None'
            self.users[author_id]['gift7'] = 'None'
            self.users[author_id]['gift8'] = 'None'
            self.users[author_id]['gift9'] = 'None'
            self.users[author_id]['gift10'] = 'None'
            self.users[author_id]['gift11'] = 'None'
            self.users[author_id]['gift12'] = 'None'
            self.users[author_id]['gift13'] = 'None'
            self.users[author_id]['gift14'] = 'None'
            self.users[author_id]['gift15'] = 'None'
            self.users[author_id]['gift16'] = 'None'
            self.users[author_id]['gift17'] = 'None'
            self.users[author_id]['gift18'] = 'None'
            self.users[author_id]['gift19'] = 'None'
            self.users[author_id]['gift20'] = 'None'
            self.users[author_id]['gift21'] = 'None'
            self.users[author_id]['divorce_num'] = 0

    @commands.command(name='marry', pass_context=True)
    async def marry(self, ctx, member: discord.Member):
        author_id = str(ctx.message.author.id)
        if not author_id in self.users:
            self.users[author_id] = {}
            self.users[author_id]['couple_id'] = 'None'
            self.users[author_id]['price'] = 1
            self.users[author_id]['gift1'] = 'None'
            self.users[author_id]['gift2'] = 'None'
            self.users[author_id]['gift3'] = 'None'
            self.users[author_id]['gift4'] = 'None'
            self.users[author_id]['gift5'] = 'None'
            self.users[author_id]['gift6'] = 'None'
            self.users[author_id]['gift7'] = 'None'
            self.users[author_id]['gift8'] = 'None'
            self.users[author_id]['gift9'] = 'None'
            self.users[author_id]['gift10'] = 'None'
            self.users[author_id]['gift11'] = 'None'
            self.users[author_id]['gift12'] = 'None'
            self.users[author_id]['gift13'] = 'None'
            self.users[author_id]['gift14'] = 'None'
            self.users[author_id]['gift15'] = 'None'
            self.users[author_id]['gift16'] = 'None'
            self.users[author_id]['gift17'] = 'None'
            self.users[author_id]['gift18'] = 'None'
            self.users[author_id]['gift19'] = 'None'
            self.users[author_id]['gift20'] = 'None'
            self.users[author_id]['gift21'] = 'None'
            self.users[author_id]['divorce_num'] = 0
        member_id = str(member.id)
        if not member_id in self.users:
            self.users[member_id] = {}
            self.users[member_id]['couple_id'] = 'None'
            self.users[member_id]['price'] = 1
            self.users[member_id]['gift1'] = 'None'
            self.users[member_id]['gift2'] = 'None'
            self.users[member_id]['gift3'] = 'None'
            self.users[member_id]['gift4'] = 'None'
            self.users[member_id]['gift5'] = 'None'
            self.users[member_id]['gift6'] = 'None'
            self.users[member_id]['gift7'] = 'None'
            self.users[member_id]['gift8'] = 'None'
            self.users[member_id]['gift9'] = 'None'
            self.users[member_id]['gift10'] = 'None'
            self.users[member_id]['gift11'] = 'None'
            self.users[member_id]['gift12'] = 'None'
            self.users[member_id]['gift13'] = 'None'
            self.users[member_id]['gift14'] = 'None'
            self.users[member_id]['gift15'] = 'None'
            self.users[member_id]['gift16'] = 'None'
            self.users[member_id]['gift17'] = 'None'
            self.users[member_id]['gift18'] = 'None'
            self.users[member_id]['gift19'] = 'None'
            self.users[member_id]['gift20'] = 'None'
            self.users[member_id]['gift21'] = 'None'
            self.users[author_id]['divorce_num'] = 0
        role = discord.utils.get(member.guild.roles, name="üíç")
        author = ctx.message.author
        embedmarry = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embedyee = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embednii = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embedalreadymarried = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embedyoucantmarryyourselflmaoidiot = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embedmarry.add_field(name='–°–≤–∞–¥—å–±–∞ :heart_exclamation: ',
                             value=f'{author.mention} –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞–º —Å–≤–æ—é —Ä—É–∫—É –∏ —Å–µ—Ä–¥—Ü–µ! {member.mention}',
                             inline=False)
        embedmarry.add_field(name='–ö–∞–∫–æ–≤ –±—É–¥–µ—Ç –≤–∞—à –æ—Ç–≤–µ—Ç? :question: :thinking:  ',
                             value='–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é **–¥–∞** –∏–ª–∏ **–Ω–µ—Ç**, —É –≤–∞—Å –µ—Å—Ç—å —Ü–µ–ª–∞—è –º–∏–Ω—É—Ç–∞, —á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å '
                                   '—Ä–µ—à–µ–Ω–∏–µ!',
                             inline=False)
        embedmarry.set_image(
            url='https://media1.tenor.com/images/69dbcb02b724d26644228a38e367d017/tenor.gif?itemid=14444888')
        embedyee.add_field(name='–£–¥–∞—á–Ω–∞—è —Å–≤–∞–¥—å–±–∞ :heart:',
                           value=f'{author.mention} –∂–µ–Ω–∏–ª—Å—è –Ω–∞ {member.mention} ! –ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è! ;) ')
        embedyee.set_image(
            url='https://cdn.discordapp.com/attachments/624296774747553808/642210564571004929/2c4259204e631b3e70cbd248331ac1e2.gif' or 'https://media1.tenor.com/images/ed8113a52d8517b31b4073b9ee9db314/tenor.gif?itemid=11767932')
        embednii.add_field(name='–°–≤–∞–¥—å–±–∞ –Ω–µ—É–¥–∞—á–Ω–∞ :broken_heart: ',
                           value=f"{member.mention} –æ—Ç–∫–∞–∑–∞–ª–∞—Å—å(—Å—è). –ù–µ –ø–ª–∞—á—å {author.mention} , –Ω–∞–π–¥–µ—à—å –∫–æ–≥–æ-–Ω–∏–±—É–¥—å –¥—Ä—É–≥–æ–≥–æ")
        embednii.set_image(
            url='https://cdn.discordapp.com/attachments/624296774747553808/642209594130694163/0caba0318aa667572c0ae30f34ecf8b62896aee5_hq.gif')
        embedalreadymarried.add_field(name='–í—ã —É–∂–µ –∂–µ–Ω–∞—Ç—ã!',
                                      value=f'{author.mention} –í—ã —É–∂–µ –∂–µ–Ω–∞—Ç—ã!')
        embedyoucantmarryyourselflmaoidiot.add_field(name='–°–≤–∞–¥—å–±–∞ –Ω–µ—É–¥–∞—á–Ω–∞ :thinking:  :thinking: ',
                                                     value=f"–•–º–º?..–ù–∞ —Å–µ–±–µ –Ω–µ–ª—å–∑—è –∂–µ–Ω–∏—Ç—å—Å—è, —Ç—ã —á–µ–≥–æ?")
        embedyoucantmarryyourselflmaoidiot.set_image(url='https://media1.giphy.com/media/GstlqgmrVgpuE/source.gif')

        if member == author:
            await ctx.send(embed=embedyoucantmarryyourselflmaoidiot)

        if self.users[author_id]['couple_id'] == member_id:
            await ctx.send(embed=embedalreadymarried)
        if (self.users[member_id]['couple_id'] != 'None' or self.users[author_id]['couple_id'] != 'None') and \
                self.users[author_id]['couple_id'] != member_id:
            await ctx.send('–°–ø–µ—Ä–≤–∞ —Å–¥–µ–ª–∞–π—Ç–µ —Ä–∞–∑–≤–æ–¥ —Å–æ —Å–≤–æ–∏–º–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏')

        if role not in author.roles and role not in member.roles:
            if member != author:
                if self.users[author_id]['couple_id'] != member_id:
                    await ctx.send(embed=embedmarry)

                def check(message):
                    return message.content in (
                        '–¥–∞', '–Ω–µ—Ç', '–î–∞', '–¥–ê', '–î–ê', '–ù–µ—Ç', '–Ω–ï—Ç', '–Ω–µ–¢', '–ù–ï—Ç', '–ù–µ–¢', '–Ω–ï–¢', '–ù–ï–¢')

                reply = await self.client.wait_for('message', check=check, timeout=30)
                if not reply or reply.content.casefold() == '–Ω–µ—Ç':
                    await ctx.send(embed=embednii)
                if not reply or reply.content.casefold() == '–¥–∞':
                    await ctx.send(embed=embedyee)
                    await discord.Member.add_roles(member, role)
                    await discord.Member.add_roles(author, role)
                    self.users[author_id]['couple_id'] = member_id
                    self.users[member_id]['couple_id'] = author_id

    @marry.error
    async def marry_timeout(self, ctx, error):
        if isinstance(error, commands.CommandInvokeError):
            embedtimeout = discord.Embed(
                color=discord.Colour.dark_purple()
            )
            embedtimeout.add_field(name='–û—É—É—É—É—É—É—É—É—É—É—É! :interrobang: ',
                                   value="–í—Ä–µ–º—è —Å–≤–∞–¥—å–±—ã –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å. –ù–µ –±–µ—Å–ø–æ–∫–æ–π—Ç–µ—Å—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑!")
            embedtimeout.set_image(url='https://media3.giphy.com/media/uHJTtpE9WqfYc/source.gif')
            await ctx.send(embed=embedtimeout)
        if isinstance(error, commands.MissingRequiredArgument):
            embedmarryerror = discord.Embed(
                color=discord.Colour.dark_purple()
            )
            embedmarryerror.add_field(name='–û—à–∏–±–∫–∞',
                                      value=f' –£–∫–∞–∂–∏—Ç–µ –Ω–∞ –∫–æ–º —Ö–æ—Ç–∏—Ç–µ –∂–µ–Ω–∏—Ç—å—Å—è. .marry @ \n –ü—Ä–∏–º–µ—Ä:')
            await ctx.send(embed=embedmarryerror)
            await ctx.send('```.marry @Clonexy700#3767```')

    @commands.command(pass_context=True)
    async def divorce(self, ctx):
        author_id = str(ctx.message.author.id)
        member = ctx.guild.get_member(int(self.users[author_id]['couple_id']))
        role = discord.utils.get(member.guild.roles, name="üíç")
        author = ctx.message.author
        embeddivorce = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embeddivorce.add_field(name='–†–∞–∑–≤–æ–¥ :broken_heart:  :broccoli: ',
                               value=f'{author.mention} —Ç–µ–ø–µ—Ä—å –±–æ–ª—å—à–µ –Ω–µ –∂–µ–Ω–∞—Ç—ã —Å {member.mention}')
        embeddivorce.set_image(url="https://rabujoi.files.wordpress.com/2017/02/fuu62.jpg")
        embeddivorcefail = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        embeddivorcefail.add_field(name='–†–∞–∑–≤–æ–¥ :broccoli:',
                                   value=f'{author.mention} –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Ä–∞–∑–≤–µ—Å—Ç–∏—Å—å! –ö–∞–∂–µ—Ç—Å—è —Ç—ã –∏–ª–∏ {member.mention} —É–∂–µ –Ω–µ –∂–µ–Ω–∞—Ç—ã! ')
        embeddivorcefail.set_image(url='https://i.gifer.com/BtGB.gif')
        if role in author.roles and role in member.roles:
            await discord.Member.remove_roles(author, role)
            await discord.Member.remove_roles(member, role)
            member_id = self.users[author_id]['couple_id']
            self.users[member_id]['couple_id'] = 'None'
            self.users[author_id]['couple_id'] = 'None'
            self.users[author_id]['divorce_num'] += 1
            await ctx.send(embed=embeddivorce)
        else:
            await ctx.send(embed=embeddivorcefail)

    @commands.command(name='hentai', aliases=['–ª–∞—Å–∫–∞—Ç—å', '—Ö–µ–Ω—Ç–∞–π'])
    async def hentai(self, ctx, member: discord.Member):
        msgend = [":spades:", ":clubs:", ":diamonds:", ":hearts:", ":fleur_de_lis:", ":black_heart:"]
        author = ctx.message.author
        author_id = str(ctx.message.author.id)
        member_id = str(member.id)
        if self.users[author_id]['couple_id'] == member_id:
            embedhentai = discord.Embed(
                color=discord.Colour.dark_purple()
            )
            hentaigifs = [
                "https://66.media.tumblr.com/e5921dae5876c00e1c3fcc0540ecab12/tumblr_opnxbzZbYT1sghvvyo1_500.gif",
                "https://i.pinimg.com/originals/fc/fa/b1/fcfab1d1656f5e9f859744ce999b35d5.gif",
                "https://ci.memecdn.com/1394312.gif",
                "https://lh3.googleusercontent.com/proxy/4N3f_aUCbDjN7Dcbvbd0xi1Fx1VNJsW_U4givReTfGarUG4S5-SFBAfpLa1BH0UaGbdQItlwQgqaErtORYcCmsUAtIYU9Z1xPw",
                "https://userdisk.webry.biglobe.ne.jp/020/046/94/N000/000/000/126525418193816203746_dat1265220059955.gif",
                "https://psv4.userapi.com/c610925/u259174237/docs/5e23102a51fa/3f74a54545774160611b83983fe8020c.gif?extra=xsXm8TuVauL_efYWOtBq1fhNRhqMvHTrxoauN58As_O2Nup80jf4VVVdB-z_6AflVR-bQRIO-U351o8_MauFbTRFbskG5jQbg073yy9tSDb1fEtF169xFrWq-fFoJz_1KVsOLxqrrdS8Zf8_QhMTpuA",
                "https://66.media.tumblr.com/32f890680919d5edb248cf6de10cd1cb/tumblr_nrdtcvHEhl1trw883o1_1280.gif",
                "https://x.imagefapusercontent.com/u/bvelasco/5823564/1635151298/gOqBNfD.gif",
                "https://66.media.tumblr.com/2bd84e6dcd5fcb76dbc0448ce7211cc1/tumblr_o5zxbaSKjE1rv1jano1_540.gif",
                "https://66.media.tumblr.com/3779148a1def9b5484ce33b873b02272/tumblr_nwjlolOMea1sz111so2_540.gif",
                "https://66.media.tumblr.com/05454f06a749373d72065dbdceadb50a/tumblr_ohbvseGCp81vkkt9ro1_1280.gif",
                "https://lh3.googleusercontent.com/proxy/vStpimmvo0WAaK6nk1SwgMtp7LlXPuleXsjuln82K80K3ZJ3SBOkz6F1u-KkmO1DKsJZs6k9ndgQ4aDmDcxUA84Lbh1vsODFjieODT_JzneyMAxD_RbpMpcdauaziRRlYBbvCMuv9FCyFbxrT3biqyN1WVv05swGG22wpSY3uQ",
                "https://lh3.googleusercontent.com/proxy/VFCSlrNEErwdJhkFVO5Sk9P3R-SWYcejlDrkQgwRmCqp5MJZCgqrmWS2Uah-WzMDgl80w0ljAYU-yiNqZJ2mYtg6lF03bjbZGkLE9rC2qKBAup_dtj3pM24kxI6M_Jife_ar45BtROxtq6MhJhPY1b0OiV8YGZFYKbFuusafuoaDtxtt",
                "https://2gifs.ru/images/p49.media.tumblr.com/544299c4e63878310a02957b5e5a133c/tumblr_nyw1ejWY2E1tlb937o1_500.gif",
                "https://cs6.pikabu.ru/images/big_size_comm_an/2014-05_3/14001629958442.gif",
                "https://img-4.poringa.net/poringa/img/8/1/E/1/B/E/FrankFolla/789.gif",
                "https://pbs.twimg.com/profile_images/855027348386701313/YIgX4cok_400x400.jpg",
                "https://lh3.googleusercontent.com/proxy/rNRpnzLDcrOdqA5UmT5BGXH0Wqhv-iE1bvB3D1bbhjRWesgyW8t6_RLvQhSOjMnJW77S_Xqyt_W-47ubVJgV668G7efQmvVcdqFPxdRBXJjnI10EWrOoepav3RdWhIYFKnQsPbA6YQ",
                "https://i.imgur.com/xuZ4dHi.gif"]
            embedhentai.add_field(name="–õ—é–±–æ–≤—å :heart:",
                                  value=f"–£ {author.mention} –∏ {member.mention} –ª—é–±–æ–≤—å. :heart: {random.choice(msgend)}")
            embedhentai.set_image(url=random.choice(hentaigifs))
            await ctx.send(embed=embedhentai)
        else:
            await ctx.send('–í—ã –Ω–µ –∂–µ–Ω–∞—Ç—ã —Å –¥–∞–Ω–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, –ø–æ—ç—Ç–æ–º—É –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É')

    @commands.command(name='waifu', aliases=['–≤–∞–π—Ñ—É', '–ø–∞—Ä–∞', '–∂–µ–Ω–∞'])
    async def waifu(self, ctx, member: discord.Member = None):
        emoji = self.client.get_emoji(676803534758477845)
        loli = self.client.get_emoji(680064619385192515)
        author = ctx.author if not member else member
        member_id = str(author.id)
        price = self.users[member_id]['price']
        if self.users[member_id]["couple_id"] == 'None':
            pair = 'None'
        else:
            pair = ctx.guild.get_member(int(self.users[member_id]['couple_id']))
            pair = pair.name
        waifu_menu = discord.Embed(
            color=discord.Colour.dark_purple(),
            timestamp=ctx.message.created_at,
            description=f'**–¶–µ–Ω–∞**\n{price}{emoji}\n–í–∞–π—Ñ—É {author.name}\n**–í–º–µ—Å—Ç–µ —Å**\n{pair}\n –†–∞–∑–≤–æ–¥–æ–≤ {self.users[member_id]["divorce_num"]} :broken_heart:\n __**–ü–æ–¥–∞—Ä–∫–∏ –≤–∞–π—Ñ—É**__:'
        )
        waifu_menu.set_author(name=f'–í–∞–π—Ñ—É {author.name}', icon_url=author.avatar_url)
        waifu_menu.set_thumbnail(url=author.avatar_url)
        gifts = '–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –ø–æ–¥–∞—Ä–∫–æ–≤: \n '
        if self.users[member_id]["gift1"] != 'None':
            waifu_menu.add_field(name='–¢—Ä—É—Å—ã ', value=f':briefs: \n ‚Ä¢ {self.users[member_id]["gift1"]}', inline=True)
        if self.users[member_id]["gift2"] != 'None':
            waifu_menu.add_field(name='–õ–∏—Ñ—á–∏–∫ ', value=f'ü©± \n ‚Ä¢ {self.users[member_id]["gift2"]}', inline=True)
        if self.users[member_id]["gift3"] != 'None':
            waifu_menu.add_field(name='–°–∞–ø–æ–≥–∏ ', value=f'ü•æ \n ‚Ä¢ {self.users[member_id]["gift3"]}', inline=True)
        if self.users[member_id]["gift4"] != 'None':
            waifu_menu.add_field(name='–ö–æ—Ç–∏–∫ ', value=f'üê± \n ‚Ä¢ {self.users[member_id]["gift4"]}', inline=True)
        if self.users[member_id]["gift16"] != 'None':
            waifu_menu.add_field(name='–°–æ–±–∞—á–∫–∞ ', value=f'üê∂ \n ‚Ä¢ {self.users[member_id]["gift16"]}', inline=True)
        if self.users[member_id]["gift5"] != 'None':
            waifu_menu.add_field(name='–î–æ–º ', value=f'üè† \n ‚Ä¢ {self.users[member_id]["gift5"]}', inline=True)
        if self.users[member_id]["gift6"] != 'None':
            waifu_menu.add_field(name='–ú–∞–Ω–≥–æ ', value=f'ü•≠ \n ‚Ä¢ {self.users[member_id]["gift6"]}', inline=True)
        if self.users[member_id]["gift7"] != 'None':
            waifu_menu.add_field(name='–®–∞—Ä—Ñ–∏–∫ ', value=f'üß£ \n ‚Ä¢ {self.users[member_id]["gift7"]}', inline=True)
        if self.users[member_id]["gift17"] != 'None':
            waifu_menu.add_field(name='–ù–æ—Å–∫–∏ ', value=f'üß¶ \n ‚Ä¢ {self.users[member_id]["gift17"]}', inline=True)
        if self.users[member_id]["gift8"] != 'None':
            waifu_menu.add_field(name='–ß—É–ª–∫–∏ ', value=f'üß¶ \n ‚Ä¢ {self.users[member_id]["gift8"]}', inline=True)
        if self.users[member_id]["gift9"] != 'None':
            waifu_menu.add_field(name='–ù–µ–∫–æ-—É—à–∏ ', value=f'üëô \n ‚Ä¢ {self.users[member_id]["gift9"]}', inline=True)
        if self.users[member_id]["gift10"] != 'None':
            waifu_menu.add_field(name='–•–≤–æ—Å—Ç–∏–∫ ', value=f'üëô \n ‚Ä¢ {self.users[member_id]["gift10"]}', inline=True)
        if self.users[member_id]["gift11"] != 'None':
            waifu_menu.add_field(name='–ö–∏–º–æ–Ω–æ ', value=f'üëò \n ‚Ä¢ {self.users[member_id]["gift11"]}', inline=True)
        if self.users[member_id]["gift18"] != 'None':
            waifu_menu.add_field(name='–ö–æ—Å—Ç—é–º –≥–æ—Ä–Ω–∏—á–Ω–æ–π ', value=f'üëò \n ‚Ä¢ {self.users[member_id]["gift18"]}',
                                 inline=True)
        if self.users[member_id]["gift12"] != 'None':
            waifu_menu.add_field(name='–û—à–µ–π–Ω–∏–∫ ', value=f'üëô \n ‚Ä¢ {self.users[member_id]["gift12"]}', inline=True)
        if self.users[member_id]["gift13"] != 'None':
            waifu_menu.add_field(name='–û—á–∫–∏ ', value=f':eyeglasses: \n ‚Ä¢ {self.users[member_id]["gift13"]}',
                                 inline=True)
        if self.users[member_id]["gift14"] != 'None':
            waifu_menu.add_field(name='–õ–æ–ª–∏ ', value=f'{loli} \n ‚Ä¢ {self.users[member_id]["gift14"]}', inline=True)
        if self.users[member_id]["gift15"] != 'None':
            waifu_menu.add_field(name='–ß—É–ø–∞-–ß—É–ø—Å ', value=f'üç≠ \n ‚Ä¢ {self.users[member_id]["gift15"]}', inline=True)
        if self.users[member_id]["gift19"] != 'None':
            waifu_menu.add_field(name='–ú–∏—à–∫–∞ ', value=f'üß∏ \n ‚Ä¢ {self.users[member_id]["gift19"]}', inline=True)
        if self.users[member_id]["gift20"] != 'None':
            waifu_menu.add_field(name='–í–∏–Ω–æ ', value=f':wine_glass: \n ‚Ä¢ {self.users[member_id]["gift20"]}', inline=True)
        if self.users[member_id]["gift21"] != 'None':
            waifu_menu.add_field(name='–¢–æ—Ä—Ç ', value=f':birthday: \n ‚Ä¢ {self.users[member_id]["gift21"]}', inline=True)
        waifu_menu.set_footer(text=f'–ó–∞–ø—Ä–æ—Å–∏–ª {ctx.author.name} \n (‚ô•œâ‚ô• ) ~‚ô™')
        await ctx.send(embed=waifu_menu)

    @commands.command(name='gifts', aliases=['–ø–æ–¥–∞—Ä–∫–∏', 'giftlist', '–º–ø', 'giftshop', '–ø–º'])
    async def gifts(self, ctx):
        emoji = self.client.get_emoji(676803534758477845)
        loli = self.client.get_emoji(680064619385192515)
        embed_gifts = discord.Embed(color=discord.Colour.dark_purple(), timestamp=ctx.message.created_at)
        embed_gifts.set_author(name='–ü–æ–¥–∞—Ä–∫–∏ –¥–ª—è –≤–∞—à–µ–π –≤–∞–π—Ñ—É')
        embed_gifts.add_field(name='–¢—Ä—É—Å—ã ', value=f':briefs: \n > 50 {emoji}', inline=True)
        embed_gifts.add_field(name='–õ–∏—Ñ—á–∏–∫', value=f'ü©± \n > 70 {emoji}', inline=True)
        embed_gifts.add_field(name='–°–∞–ø–æ–≥–∏', value=f'ü•æ \n > 90 {emoji}', inline=True)
        embed_gifts.add_field(name='–ö–æ—Ç', value=f'üê± \n > 5000 {emoji}', inline=True)
        embed_gifts.add_field(name='–°–æ–±–∞–∫–∞', value=f'üê∂ \n > 5000 {emoji}', inline=True)
        embed_gifts.add_field(name='–î–æ–º', value=f'üè† \n > 50000 {emoji}', inline=True)
        embed_gifts.add_field(name='–ú–∞–Ω–≥–æ', value=f'ü•≠ \n > 20 {emoji}', inline=True)
        embed_gifts.add_field(name='–®–∞—Ä—Ñ–∏–∫', value=f'üß£ \n > 60 {emoji}', inline=True)
        embed_gifts.add_field(name='–ù–æ—Å–∫–∏', value=f'üß¶ \n > 300 {emoji}', inline=True)
        embed_gifts.add_field(name='–ß—É–ª–∫–∏', value=f'üëô \n > 600 {emoji}', inline=True)
        embed_gifts.add_field(name='–ù–µ–∫–æ-—É—à–∏', value=f'üëô \n > 800 {emoji}', inline=True)
        embed_gifts.add_field(name='–•–≤–æ—Å—Ç–∏–∫', value=f'üëô \n > 800 {emoji}', inline=True)
        embed_gifts.add_field(name='–ö–∏–º–æ–Ω–æ', value=f'üëò \n > 1200 {emoji}', inline=True)
        embed_gifts.add_field(name='–ö–æ—Å—Ç—é–º –≥–æ—Ä–Ω–∏—á–Ω–æ–π', value=f'üëò \n > 2400 {emoji}', inline=True)
        embed_gifts.add_field(name='–û—à–µ–π–Ω–∏–∫', value=f'üëô \n > 2000 {emoji}', inline=True)
        embed_gifts.add_field(name='–û—á–∫–∏', value=f':eyeglasses:  \n > 4000 {emoji}', inline=True)
        embed_gifts.add_field(name='–õ–æ–ª–∏', value=f'{loli} \n > 100000 {emoji}', inline=True)
        embed_gifts.add_field(name='–ß—É–ø–∞-—á—É–ø—Å', value=f'üç≠ \n > 10 {emoji}', inline=True)
        embed_gifts.add_field(name='–ú–∏—à–∫–∞', value=f'üß∏ \n > 2500 {emoji}', inline=True)
        embed_gifts.add_field(name='–í–∏–Ω–æ', value=f':wine_glass: \n > 250 {emoji}', inline=True)
        embed_gifts.add_field(name='–¢–æ—Ä—Ç', value=f':birthday: \n > 500 {emoji}', inline=True)
        embed_gifts.set_image(
            url='https://66.media.tumblr.com/c704b54b4390f2b2eef8d85c50d35dfd/tumblr_ofb1vtxYrF1th93f0o3_400.gif')
        embed_gifts.set_footer(text=f'–∑–∞–ø—Ä–æ—Å–∏–ª {ctx.author.name}')
        await ctx.send(embed=embed_gifts)

    @commands.command(name='gift', aliases=['–ø–æ–¥–∞—Ä–∏—Ç—å', '–≥–∏—Ñ—Ç', '–ø', '–ø–æ–¥–∞—Ä–æ–∫'])
    async def gift(self, ctx, member: discord.Member, gift=None, n: int = 1):
        loli = self.client.get_emoji(680064619385192515)
        member_id = str(member.id)
        author_id = str(ctx.author.id)
        embed_reply = discord.Embed(color=discord.Colour.dark_purple())
        gift = gift.casefold()

        if gift is None:
            def check(author):
                def inner_check(message):
                    return message.author == ctx.author and message.casefold().content in (
                        '—Ç—Ä—É—Å—ã', '–ª–∏—Ñ—á–∏–∫', '—Å–∞–ø–æ–≥–∏', '–∫–æ—Ç', '–°–æ–±–∞–∫–∞', '–î–æ–º', '–ú–∞–Ω–≥–æ', '–®–∞—Ä—Ñ–∏–∫', '–ù–æ—Å–∫–∏', '–ß—É–ª–∫–∏',
                        '–ù–µ–∫–æ-—É—à–∏', '–•–≤–æ—Å—Ç–∏–∫', '–ö–∏–º–æ–Ω–æ', '–û—à–µ–π–Ω–∏–∫', '–õ–æ–ª–∏', '–ß—É–ø–∞-—á—É–ø—Å', '–ö–æ—Å—Ç—é–º –≥–æ—Ä–Ω–∏—á–Ω–æ–π', '–û—á–∫–∏', '–ú–∏—à–∫–∞', '–í–∏–Ω–æ', '–¢–æ—Ä—Ç')

                return inner_check

            await ctx.send('–£—Ç–æ—á–Ω–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥–∞—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å!')
        else:
            if gift == '—Ç—Ä—É—Å—ã':
                if self.client.currency[author_id]["money"] - 50 * n >= 0:
                    await self.client.unupdate_currency(author_id, 50 * n)
                    if self.users[member_id]["gift1"] == 'None':
                        self.users[member_id]["gift1"] = 0
                    self.users[member_id]["gift1"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 50 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –¢—Ä—É—Å–∏–∫–∏ '
                                                                    f':briefs:!')
            if gift == '–ª–∏—Ñ—á–∏–∫':
                if self.client.currency[author_id]["money"] - 70 * n >= 0:
                    await self.client.unupdate_currency(author_id, 70 * n)
                    if self.users[member_id]["gift2"] == 'None':
                        self.users[member_id]["gift2"] = 0
                    self.users[member_id]["gift2"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 70 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –õ–∏—Ñ—á–∏–∫ '
                                                                    f'ü©±!')
            if gift == '—Å–∞–ø–æ–≥–∏':
                if self.client.currency[author_id]["money"] - 90 * n >= 0:
                    await self.client.unupdate_currency(author_id, 90 * n)
                    if self.users[member_id]["gift3"] == 'None':
                        self.users[member_id]["gift3"] = 0
                    self.users[member_id]["gift3"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 90 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –°–∞–ø–æ–≥–∏ '
                                                                    f'ü•æ!')
            if gift == '–∫–æ—Ç':
                if self.client.currency[author_id]["money"] - 5000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 5000 * n)
                    if self.users[member_id]["gift4"] == 'None':
                        self.users[member_id]["gift4"] = 0
                    self.users[member_id]["gift4"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 5000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ö–æ—Ç–∏–∫–∞ '
                                                                    f'üê±!')
            if gift == '—Å–æ–±–∞–∫–∞':
                if self.client.currency[author_id]["money"] - 5000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 5000 * n)
                    if self.users[member_id]["gift16"] == 'None':
                        self.users[member_id]["gift16"] = 0
                    self.users[member_id]["gift16"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 5000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} C–æ–±–∞—á–∫—É '
                                                                    f'üê∂!')
            if gift == '–¥–æ–º':
                if self.client.currency[author_id]["money"] - 50000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 50000 * n)
                    if self.users[member_id]["gift5"] == 'None':
                        self.users[member_id]["gift5"] = 0
                    self.users[member_id]["gift5"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 50000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –î–æ–º '
                                                                    f'üè†!')
            if gift == '–º–∞–Ω–≥–æ':
                if self.client.currency[author_id]["money"] - 20 * n >= 0:
                    await self.client.unupdate_currency(author_id, 20 * n)
                    if self.users[member_id]["gift6"] == 'None':
                        self.users[member_id]["gift6"] = 0
                    self.users[member_id]["gift6"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 20 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ú–∞–Ω–≥–æ '
                                                                    f'ü•≠!')
            if gift == '—à–∞—Ä—Ñ–∏–∫':
                if self.client.currency[author_id]["money"] - 60 * n >= 0:
                    await self.client.unupdate_currency(author_id, 60 * n)
                    if self.users[member_id]["gift7"] == 'None':
                        self.users[member_id]["gift7"] = 0
                    self.users[member_id]["gift7"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 60 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –®–∞—Ä—Ñ–∏–∫ '
                                                                    f'üß£!')
            if gift == '–Ω–æ—Å–∫–∏':
                if self.client.currency[author_id]["money"] - 300 * n >= 0:
                    await self.client.unupdate_currency(author_id, 300 * n)
                    if self.users[member_id]["gift17"] == 'None':
                        self.users[member_id]["gift17"] = 0
                    self.users[member_id]["gift17"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 300 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ù–æ—Å–æ—á–∫–∏ '
                                                                    f'üß¶!')
            if gift == '—á—É–ª–∫–∏':
                if self.client.currency[author_id]["money"] - 600 * n >= 0:
                    await self.client.unupdate_currency(author_id, 600 * n)
                    if self.users[member_id]["gift8"] == 'None':
                        self.users[member_id]["gift8"] = 0
                    self.users[member_id]["gift8"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 600 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ß—É–ª–æ—á–∫–∏ '
                                                                    f'üëô!')
            if gift == '–Ω–µ–∫–æ-—É—à–∏':
                if self.client.currency[author_id]["money"] - 800 * n >= 0:
                    await self.client.unupdate_currency(author_id, 800 * n)
                    if self.users[member_id]["gift9"] == 'None':
                        self.users[member_id]["gift9"] = 0
                    self.users[member_id]["gift9"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 800 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ù–µ–∫–æ-—É—à–∏ '
                                                                    f'üëô!')
            if gift == '—Ö–≤–æ—Å—Ç–∏–∫':
                if self.client.currency[author_id]["money"] - 800 * n >= 0:
                    await self.client.unupdate_currency(author_id, 800 * n)
                    if self.users[member_id]["gift10"] == 'None':
                        self.users[member_id]["gift10"] = 0
                    self.users[member_id]["gift10"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 800 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –•–≤–æ—Å—Ç–∏–∫ '
                                                                    f'üëô!')
            if gift == '–∫–∏–º–æ–Ω–æ':
                if self.client.currency[author_id]["money"] - 1200 * n >= 0:
                    await self.client.unupdate_currency(author_id, 1200 * n)
                    if self.users[member_id]["gift11"] == 'None':
                        self.users[member_id]["gift11"] = 0
                    self.users[member_id]["gift11"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 1200 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ö–∏–º–æ–Ω–æ '
                                                                    f'üëò !')
            if gift == '–∫–æ—Å—Ç—é–º –≥–æ—Ä–Ω–∏—á–Ω–æ–π':
                if self.client.currency[author_id]["money"] - 2400 * n >= 0:
                    await self.client.unupdate_currency(author_id, 2400 * n)
                    if self.users[member_id]["gift18"] == 'None':
                        self.users[member_id]["gift18"] = 0
                    self.users[member_id]["gift18"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 2400 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏',
                                          value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ö–æ—Å—Ç—é–º –≥–æ—Ä–Ω–∏—á–Ω–æ–π '
                                                f'üëò !')
            if gift == '–æ—à–µ–π–Ω–∏–∫':
                if self.client.currency[author_id]["money"] - 2000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 2000 * n)
                    if self.users[member_id]["gift12"] == 'None':
                        self.users[member_id]["gift12"] = 0
                    self.users[member_id]["gift12"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 2000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –û—à–µ–π–Ω–∏–∫ '
                                                                    f'üëô!')
            if gift == '–æ—á–∫–∏':
                if self.client.currency[author_id]["money"] - 4000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 4000 * n)
                    if self.users[member_id]["gift13"] == 'None':
                        self.users[member_id]["gift13"] = 0
                    self.users[member_id]["gift13"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 4000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –û—á–µ—á–∫–∏ '
                                                                    f':eyeglasses:!')
            if gift == '–ª–æ–ª–∏':
                if self.client.currency[author_id]["money"] - 100000 * n >= 0:
                    await self.client.unupdate_currency(author_id, 100000 * n)
                    if self.users[member_id]["gift14"] == 'None':
                        self.users[member_id]["gift14"] = 0
                    self.users[member_id]["gift14"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 100000 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏', value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –õ–æ–ª—å–∫—É '
                                                                    f'{loli}!')
            if gift == '—á—É–ø–∞-—á—É–ø—Å':
                if self.client.currency[author_id]["money"] - 10 * n >= 0:
                    await self.client.unupdate_currency(author_id, 10 * n)
                    if self.users[member_id]["gift15"] == 'None':
                        self.users[member_id]["gift15"] = 0
                    self.users[member_id]["gift15"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 10 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏',
                                          value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ß—É–ø–∞-—á—É–ø—Å üç≠!')
            if gift == '–º–∏—à–∫–∞':
                if self.client.currency[author_id]["money"] - 2500 * n >= 0:
                    await self.client.unupdate_currency(author_id, 2500 * n)
                    if self.users[member_id]["gift19"] == 'None':
                        self.users[member_id]["gift19"] = 0
                    self.users[member_id]["gift19"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 2500 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏',
                                          value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –ü–ª—é—à–µ–≤–æ–≥–æ –º–∏—à–∫—É :teddy_bear: !')
            if gift == '–≤–∏–Ω–æ':
                if self.client.currency[author_id]["money"] - 250 * n >= 0:
                    await self.client.unupdate_currency(author_id, 250 * n)
                    if self.users[member_id]["gift20"] == 'None':
                        self.users[member_id]["gift20"] = 0
                    self.users[member_id]["gift20"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 250 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏',
                                          value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –í–∏–Ω–∏—à–∫–æ :wine_glass: !')
            if gift == '—Ç–æ—Ä—Ç':
                if self.client.currency[author_id]["money"] - 500 * n >= 0:
                    await self.client.unupdate_currency(author_id, 500 * n)
                    if self.users[member_id]["gift21"] == 'None':
                        self.users[member_id]["gift21"] = 0
                    self.users[member_id]["gift21"] += n
                    if self.users[member_id]["price"] == 1:
                        self.users[member_id]["price"] -= 1
                    self.users[member_id]["price"] += 500 * n
                    embed_reply.add_field(name='–í—ã –ø–æ–¥–∞—Ä–∏–ª–∏',
                                          value=f'{ctx.author.mention} –ø–æ–¥–∞—Ä–∏–ª {member.mention} –¢–æ—Ä—Ç–∏–∫ :birthday: !')
            await ctx.send(embed=embed_reply)

    @commands.command(name='ship', aliases=['—à–∏–ø', '–µ–±–∏—Ç–µ—Å'], help=' ship 1st person with 2nd person')
    async def ship(self, ctx, member1: discord.Member, member2: discord.Member):
        role = discord.utils.get(member1.guild.roles, name="üíç")
        empedship = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        empedship.add_field(name=':heart_eyes:  Ship :heart: ',
                            value=f' –®–∏–ø–ø–µ—Ä–∏–º {member1.mention} –∏ {member2.mention} :smirk: ', inline=False)
        LovePossibility = random.randint(0, 100)
        LoveSymbolic = ["–ú–µ–∂–¥—É –Ω–∏–º–∏ –Ω–µ—Ç –ª—é–±–≤–∏. ",
                        "‚ñÑ ‚ñà ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÜ ‚ñÖ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÜ ‚ñÖ ‚ñÉ",
                        "‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÜ ‚ñÖ ‚ñÉ ‚ñÇ"]
        if member1 == member2:
            empedship.add_field(name=f'–ú–º–º... –Ø –¥—É–º–∞—é —Ç—É—Ç –ø—Ä–æ–±–ª–µ–º–∫–∞.',
                                value=f"–¢—ã –Ω–µ –º–æ–∂–µ—à—å —à–∏–ø–ø–µ—Ä–∏—Ç—å –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ª—é–¥–µ–π.")
        if member1 != member2:
            if member2 or member1 != discord.User.bot:
                author_id = str(member1.id)
                member_id = str(member2.id)
                if role not in member1.roles or role not in member2.roles or self.users[author_id][
                    'couple_id'] != member_id:
                    if LovePossibility <= 5:
                        empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                            value=f'{LoveSymbolic[0]} {LovePossibility} % :broken_heart: ',
                                            inline=False)
                        empedship.set_image(
                            url='https://media1.tenor.com/images/2d432485a60674319ef423b643877ee4/tenor.gif?itemid=11302966')
                    if LovePossibility >= 6:
                        if LovePossibility <= 10:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[1]} __**{LovePossibility}%**__ :broken_heart: ',
                                                inline=False)
                            empedship.set_image(url='https://cdn42.picsart.com/171043668003202.gif?c256x256')
                    if LovePossibility >= 11:
                        if LovePossibility <= 19:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[2]} __**{LovePossibility}%**__ :black_heart: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/e375857e0f78c321b83040514b21a420/tenor.gif?itemid=13802170')
                    if LovePossibility >= 20:
                        if LovePossibility <= 29:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[3]} __**{LovePossibility}%**__ :black_heart: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/93f5876e82ae575a6c4b4613d57f6e29/tenor.gif?itemid=13665536')
                    if LovePossibility >= 30:
                        if LovePossibility <= 39:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[4]} __**{LovePossibility}%**__ :brown_heart: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/f0479ee873f30213a7a5579cc18da5d0/tenor.gif?itemid=12165912')
                    if LovePossibility >= 40:
                        if LovePossibility <= 49:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[5]} __**{LovePossibility}%**__ :hearts: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/93f5876e82ae575a6c4b4613d57f6e29/tenor.gif?itemid=13665536')
                    if LovePossibility >= 50:
                        if LovePossibility <= 59:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[6]} __**{LovePossibility}%**__ :heart_decoration: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/f0479ee873f30213a7a5579cc18da5d0/tenor.gif?itemid=12165912')
                    if LovePossibility >= 60:
                        if LovePossibility <= 69:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[7]} __**{LovePossibility}%**__ :blue_heart: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/4490d35d5950b90df2b7bccaf4f79922/tenor.gif?itemid=3478319')
                    if LovePossibility >= 70:
                        if LovePossibility <= 79:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[8]} __**{LovePossibility}%**__ :heartbeat: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/fb1aa76944c156acc494fff37ebdbcfa/tenor.gif?itemid=14521920')
                    if LovePossibility >= 80:
                        if LovePossibility <= 89:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[9]} __**{LovePossibility}%**__ :heart_exclamation: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/62a43e567137edec0d5231d5ec4b814b/tenor.gif?itemid=8955295')
                    if LovePossibility >= 90:
                        if LovePossibility <= 100:
                            empedship.add_field(name=f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª—é–±–≤–∏ –º–µ–∂–¥—É {member1} –∏ {member2} —ç—Ç–æ :',
                                                value=f'{LoveSymbolic[10]} _**{LovePossibility}%**_ :heartpulse: ',
                                                inline=False)
                            empedship.set_image(
                                url='https://media1.tenor.com/images/8cab4f4c73547d077c56066461c40a5e/tenor.gif?itemid=12873196')
                author_id = str(member1.id)
                member_id = str(member2.id)
                if self.users[author_id]['couple_id'] == member_id:
                    if role in member1.roles and role in member2.roles:
                        empedship.add_field(name=f' {member1} –∏ {member2} –≤ –ª—é–±–æ–≤–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö:',
                                            value=f"‚ñÑ ‚ñà ‚ñà ‚ñÑ ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÑ ‚ñà ‚ñÜ ‚ñÖ ‚ñÉ ‚ñÇ _ **100%** :heartpulse: _\n–û–Ω–∏ "
                                                  f"–∂–µ–Ω–∞—Ç—ã! –ö–æ–Ω–µ—á–Ω–æ "
                                                  f"–∂–µ —ç—Ç–æ –ª—é–±–æ–≤—å!")
                        empedship.set_image(
                            url='https://media1.tenor.com/images/8cbe0edadc12ca1056d5eb685a4c27f6/tenor.gif?itemid=14518537')
                await ctx.send(embed=empedship)

    @ship.error
    async def shiperror(self, ctx, error):
        if isinstance(error, commands.MissingRequiredArgument):
            embedmarryerror = discord.Embed(
                color=discord.Colour.dark_purple()
            )
            embedmarryerror.add_field(name='–û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–º–∞–Ω–¥—ã',
                                      value=f' –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ 1-–≥–æ –∏ 2-–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. .ship @ @\n –ü—Ä–∏–º–µ—Ä:')
            await ctx.send(embed=embedmarryerror)
            await ctx.send('```.ship @Clonexy#3767 .Shiro ‚ô£#9014```')

    @commands.command(name='waifunull', aliases=['waifureset', '—Å–±—Ä–æ—Å–≤–∞–π—Ñ—É', 'resetwaifu'])
    async def waifureset(self, ctx):
        author = ctx.author
        member_id = str(author.id)
        self.users[member_id]['price'] = 1
        self.users[member_id]['gift1'] = 'None'
        self.users[member_id]['gift2'] = 'None'
        self.users[member_id]['gift3'] = 'None'
        self.users[member_id]['gift4'] = 'None'
        self.users[member_id]['gift5'] = 'None'
        self.users[member_id]['gift6'] = 'None'
        self.users[member_id]['gift7'] = 'None'
        self.users[member_id]['gift8'] = 'None'
        self.users[member_id]['gift9'] = 'None'
        self.users[member_id]['gift10'] = 'None'
        self.users[member_id]['gift11'] = 'None'
        self.users[member_id]['gift12'] = 'None'
        self.users[member_id]['gift13'] = 'None'
        self.users[member_id]['gift14'] = 'None'
        self.users[member_id]['gift15'] = 'None'
        self.users[member_id]['gift16'] = 'None'
        self.users[member_id]['gift17'] = 'None'
        self.users[member_id]['gift18'] = 'None'
        self.users[member_id]['gift19'] = 'None'
        self.users[member_id]['gift20'] = 'None'
        self.users[member_id]['gift21'] = 'None'
        null = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        null.add_field(name='–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞',
                       value='–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –í–∞–π—Ñ—É –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω—É–ª–µ–Ω–∞ –ø–æ-–≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—ë —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã .waifu !')
        await ctx.send(embed=null)

    @commands.command(name='waifutop', aliases=['—Ç–æ–ø–≤–∞–π—Ñ—É', '–≤–∞–π—Ñ—É—Ç–æ–ø', '—Ç–≤–∞–π—Ñ—É', '–ª—É—á—à–∏–µ–≤–∞–π—Ñ—É', 'topwaifu'])
    async def waifutop(self, ctx):
        emoji = self.client.get_emoji(676803534758477845)
        kamo = ["(‚óè‚ô°‚àÄ‚ô°)",
                "‚úø‚ô•‚Äø‚ô•‚úø",
                "(‚ô•œâ‚ô• ) ~‚ô™",
                "(ÔΩ°ÔΩ•œâÔΩ•ÔΩ°)Ôæâ‚ô°",
                "(‚óç‚Ä¢·¥ó‚Ä¢‚óç)‚ù§",
                "-œâ(¬¥‚Ä¢œâ‚Ä¢ÔΩÄ)‚ô°",
                "(‚óç‚Ä¢·¥ó‚Ä¢‚óç)‚ô° ‚úß*„ÄÇ",
                "( ‚óú‚óí‚óù )‚ô°",
                "(‰∫∫ ‚Ä¢Õà·¥ó‚Ä¢Õà)",
                "(¬¥Õà ·µï `Õà ‚ô°¬∞‚óåÃä)",
                "(·É¶Àò‚å£Àò·É¶)",
                "( Àò ¬≥Àò)‚ô•",
                "( Àò ¬≥Àò)‚ù§",
                "‚ù£ (‚óè‚ùõ3‚ùõ‚óè)",
                "(„Å£Àò–∑(Àò‚å£Àò )",
                "(‚ó¶Àò –ó(‚ó¶‚Äô⁄∫Àâ‚ó¶)‚ô°",
                "(*-œâ-)œâ-*)"]
        with open('marry.json') as json_data:
            d = json.load(json_data)
            result = OrderedDict({k: v for k, v in sorted(d.items(), reverse=True, key=lambda i: i[1]["price"])})
        embed = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        for index, element in enumerate(result):
            try:
                user = await self.client.fetch_user(element)
                a = user.name
            except AttributeError:
                a = '?'
            embed.add_field(name=str(int(index + 1)),
                            value=f"``{random.choice(kamo)}`` | {a} - {result[element]['price']} {emoji}",
                            inline=False)
        await ctx.send(embed=embed)


    @commands.command(name='emojitest')
    async def testetetetetetetete(self, ctx):
        msg = discord.Embed(
            color=discord.Colour.dark_purple()
        )
        msg.add_field(name='–ò–≥—Ä–æ–≤—ã–µ —Ä–æ–ª–∏:', value='_ _')
        msg = await ctx.send(embed=msg)
        reactions = [691522796970573856, 691523294515429377, 691523884675235960, 691524275454345286, 691525147445952583, 691525387473125376, 691525891100246027, 691526165566980176, 691526344919744513, 691526943006523441]
        for emoji_id in reactions:
            emoji = self.client.get_emoji(emoji_id)
            await msg.add_reaction(emoji)


def setup(client):
    client.add_cog(Marriage(client))